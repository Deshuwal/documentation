<div *ngIf="loading" class="col-md-12 text-center">
  <div class="spinner spinner-primary mr-3"></div>
</div>

<div
  *ngIf="!loading && taxEnumViewType == 'user'"
  class="card bg-img"
  style="padding: 20px 30px; width: 650px"
>
  <div id="pdfTable" #pdfTable>
    <div class="modal-header">
      <button
      type="button"
      class="close"
        aria-label="Close button"
        aria-describedby="modal-title"
        (click)="modal.dismiss('Cross click')"
        >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="card-body">
      <div style="display: flex; justify-content: space-between">
        <img src="../../../../assets/images/logo.png" style="height: 30px" />
        <span>Smart Tax</span>
      </div>
      <div class="separator-breadcrumb border-top"></div>

      <div>
        <span style="display: block">Plateau State Internal</span>
        <span style="display: block">Revenue Service</span>
        <span style="display: block">Bank Road, Jos</span>
        <div
          style="display: inline-block; width: 140px; border: 0.1px solid #000"
        ></div>
        <div
          style="font-size: 36px; font-weight: 800"
          class="card-title text-center"
        >
          TAX ENUMERATION
        </div>
        <img
          src="../../../../assets/images/blank.png"
          class="my-5"
          style="height: 120px"
        />
        <h2 class="text-center mb-3">
          Tax Identification Number :
          {{ taxEnumeration.tin || taxEnumeration.stin }}
        </h2>
        <table class="table">
          <thead>
            <tr>
              <th>FULL Name</th>
              <th style="font-weight: normal">
                {{
                  (negotiator.getUserFullName() ) | uppercase
                }}
              </th>
              <th>TIN NO</th>
              <th style="font-weight: normal">
                {{ taxEnumeration.tin || taxEnumeration.pltin }}
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="font-weight: 700"><p>Address</p></td>
              <td colspan="3">
                <p>{{ taxEnumeration.payer_address || "" }}</p>
              </td>
            </tr>
            <tr>
              <td style="font-weight: 700">Marital Status</td>
              <td>
                {{ taxEnumeration.marital_status }}
              </td>
              <td style="font-weight: 700">Gender</td>
              <td>
                {{ taxEnumeration.gender }}
              </td>
            </tr>

            <tr>
              <td style="font-weight: 700">Home Town</td>
              <td>
                {{ taxEnumeration.home_town }}
              </td>
              <td style="font-weight: 700">Date of Birth</td>
              <td>
                {{ taxEnumeration.dob }}
              </td>
            </tr>
            <tr>
              <td style="font-weight: 700">Local Government</td>
              <td>
                {{ taxEnumeration.lga }}
              </td>
              <td style="font-weight: 700">State of Origin</td>
              <td>
                {{ taxEnumeration.soo }}
              </td>
            </tr>
            <tr>
              <td style="font-weight: 700">Occupation</td>
              <td>
                {{ taxEnumeration.occupation | uppercase }}
              </td>
              <td style="font-weight: 700">Phone</td>
              <td>{{ taxEnumeration.phone || "" }}</td>
            </tr>
            <tr>
              <td style="font-weight: 700">Mode of Identification</td>
              <td></td>
              <td style="font-weight: 700">Identification No.</td>
              <td></td>
            </tr>
          </tbody>
        </table>
        <br />
        <br />
        Date Issued:
        {{ taxEnumeration.create_date }}
      </div>
      <div class="separator-breadcrumb border-top"></div>
      <p class="text-center">
        Email: info@psirs.gov.ng . Website:https:www.psirs.gov.ng
      </p>
      <br /><br />
      <p class="text-center">Page: 1/1</p>
    </div>
  </div>
  <div style="text-align: end">
    <button
      style="position: relative; z-index: 3"
      class="btn btn-primary"
      (click)="exportAsPDF('pdfTable')"
    >
      Download
    </button>
    <button
    style="position: relative; z-index: 3; margin-left: 10px;"
    class="btn btn-primary"
    (click)="printPDFS('pdfTable')"
  >
    Print
  </button>
  </div>
</div>

<div
  *ngIf="!loading && taxEnumViewType == 'company'"
  class="card bg-img"
  style="padding: 20px 30px; width: 650px"
>
  <div id="pdfTable" #pdfTable>
    <div class="modal-header">
      <button
      type="button"
      class="close"
        aria-label="Close button"
        aria-describedby="modal-title"
        (click)="modal.dismiss('Cross click')"
        >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="card-body">
      <div style="display: flex; justify-content: space-between">
        <img src="../../../../assets/images/logo.png" style="height: 30px" />
        <span>Smart Tax</span>
      </div>
      <div class="separator-breadcrumb border-top"></div>

      <div>
        <span style="display: block">Plateau State Internal</span>
        <span style="display: block">Revenue Service</span>
        <span style="display: block">Bank Road, Jos</span>
        <div
          style="display: inline-block; width: 140px; border: 0.1px solid #000"
        ></div>
        <div
          style="font-size: 36px; font-weight: 800"
          class="card-title text-center"
        >
          TAX ENUMERATION
        </div>
        <img
          src="../../../../assets/images/blank.png"
          class="my-5"
          style="height: 120px"
        />
        <h2 class="text-center mb-3">
          Tax Identification Number : {{ taxEnumeration.tin }}
        </h2>
        <table class="table">
          <tbody>
            <tr>
              <td style="font-weight: 700">COMPANY NAME</td>
              <td>
                {{ taxEnumeration.company_name || "N/A" }}
              </td>
              <td style="font-weight: 700">COMPANY TIN NO</td>
              <td>{{ taxEnumeration.tin }}</td>
            </tr>
            <tr>
              <td style="font-weight: 700">INDUSTRY</td>
              <td>
                {{ taxEnumeration.business_industry | uppercase }}
              </td>
              <td style="font-weight: 700">REGISTRATION NUMBER</td>
              <td>
                {{ taxEnumeration.rc_no | uppercase }}
              </td>
            </tr>

            <tr>
              <td style="font-weight: 700">NUMBER OF EMPLOYEES</td>
              <td>
                {{ taxEnumeration.employee_count }}
              </td>
              <td style="font-weight: 700">ADDRESS</td>
              <td>
                {{ taxEnumeration.address }}
              </td>
            </tr>

            <tr>
              <td style="font-weight: 700">LGA</td>
              <td>
                {{ taxEnumeration.lga | uppercase }}
              </td>
              <td style="font-weight: 700">STATE</td>
              <td>
                {{ taxEnumeration.state }}
              </td>
            </tr>
            <tr>
              <td style="font-weight: 700">OFFICE PHONE</td>
              <td>
                {{ taxEnumeration.office_number || "N/A" }}
              </td>
              <td style="font-weight: 700">EMAIL</td>
              <td>
                {{ taxEnumeration.office_email || "N/A" }}
              </td>
            </tr>
            <tr>
              <td style="font-weight: 700">WEBSITE</td>
              <td>
                {{ taxEnumeration.website || "N/A" }}
              </td>
              <td style="font-weight: 700"></td>
              <td></td>
            </tr>
          </tbody>
        </table>
        <br />
        <br />
        Date Issued:
        {{ dateIssued }}
      </div>
      <div class="separator-breadcrumb border-top"></div>
      <p class="text-center">
        Email: info@psirs.gov.ng . Website:https:www.psirs.gov.ng
      </p>
      <br /><br />
      <p class="text-center">Page: 1/1</p>
    </div>
  </div>
  <div style="text-align: end">
    <button
      style="position: relative; z-index: 3"
      class="btn btn-primary"
      (click)="exportAsPDF('pdfTable')"
    >
      Download
    </button>
    <button
      style="position: relative; z-index: 3; margin-left: 10px;"
      class="btn btn-primary"
      (click)="printPDFS('pdfTable')"
    >
      Print
    </button>
  </div>
</div>
